{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.applyResponseHooks = exports.hasRequestErrorPlugins = void 0;\n\nconst types_1 = require(\"../types\");\n/* Plugin helpers */\n\n\nfunction hasRequestErrorPlugins(client) {\n  var _a;\n\n  if (!((_a = client.clientSettings.plugins) === null || _a === void 0 ? void 0 : _a.length)) {\n    return false;\n  }\n\n  for (const plugin of client.clientSettings.plugins) {\n    if (plugin.onRequestError || plugin.onResponseError) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexports.hasRequestErrorPlugins = hasRequestErrorPlugins;\n\nasync function applyResponseHooks(requestParams, computedParams, requestOptions, error) {\n  let override;\n\n  if (error instanceof types_1.ApiRequestError || error instanceof types_1.ApiPartialResponseError) {\n    override = await this.applyPluginMethod('onRequestError', {\n      client: this,\n      url: this.getUrlObjectFromUrlString(requestParams.url),\n      params: requestParams,\n      computedParams,\n      requestOptions,\n      error\n    });\n  } else if (error instanceof types_1.ApiResponseError) {\n    override = await this.applyPluginMethod('onResponseError', {\n      client: this,\n      url: this.getUrlObjectFromUrlString(requestParams.url),\n      params: requestParams,\n      computedParams,\n      requestOptions,\n      error\n    });\n  }\n\n  if (override && override instanceof types_1.TwitterApiPluginResponseOverride) {\n    return override.value;\n  }\n\n  return Promise.reject(error);\n}\n\nexports.applyResponseHooks = applyResponseHooks;","map":{"version":3,"names":["Object","defineProperty","exports","value","applyResponseHooks","hasRequestErrorPlugins","types_1","require","client","_a","clientSettings","plugins","length","plugin","onRequestError","onResponseError","requestParams","computedParams","requestOptions","error","override","ApiRequestError","ApiPartialResponseError","applyPluginMethod","url","getUrlObjectFromUrlString","params","ApiResponseError","TwitterApiPluginResponseOverride","Promise","reject"],"sources":["/Users/user/Sites/twits_app/twits/node_modules/twitter-api-v2/dist/plugins/helpers.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.applyResponseHooks = exports.hasRequestErrorPlugins = void 0;\nconst types_1 = require(\"../types\");\n/* Plugin helpers */\nfunction hasRequestErrorPlugins(client) {\n    var _a;\n    if (!((_a = client.clientSettings.plugins) === null || _a === void 0 ? void 0 : _a.length)) {\n        return false;\n    }\n    for (const plugin of client.clientSettings.plugins) {\n        if (plugin.onRequestError || plugin.onResponseError) {\n            return true;\n        }\n    }\n    return false;\n}\nexports.hasRequestErrorPlugins = hasRequestErrorPlugins;\nasync function applyResponseHooks(requestParams, computedParams, requestOptions, error) {\n    let override;\n    if (error instanceof types_1.ApiRequestError || error instanceof types_1.ApiPartialResponseError) {\n        override = await this.applyPluginMethod('onRequestError', {\n            client: this,\n            url: this.getUrlObjectFromUrlString(requestParams.url),\n            params: requestParams,\n            computedParams,\n            requestOptions,\n            error,\n        });\n    }\n    else if (error instanceof types_1.ApiResponseError) {\n        override = await this.applyPluginMethod('onResponseError', {\n            client: this,\n            url: this.getUrlObjectFromUrlString(requestParams.url),\n            params: requestParams,\n            computedParams,\n            requestOptions,\n            error,\n        });\n    }\n    if (override && override instanceof types_1.TwitterApiPluginResponseOverride) {\n        return override.value;\n    }\n    return Promise.reject(error);\n}\nexports.applyResponseHooks = applyResponseHooks;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6BF,OAAO,CAACG,sBAAR,GAAiC,KAAK,CAAnE;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;AACA;;;AACA,SAASF,sBAAT,CAAgCG,MAAhC,EAAwC;EACpC,IAAIC,EAAJ;;EACA,IAAI,EAAE,CAACA,EAAE,GAAGD,MAAM,CAACE,cAAP,CAAsBC,OAA5B,MAAyC,IAAzC,IAAiDF,EAAE,KAAK,KAAK,CAA7D,GAAiE,KAAK,CAAtE,GAA0EA,EAAE,CAACG,MAA/E,CAAJ,EAA4F;IACxF,OAAO,KAAP;EACH;;EACD,KAAK,MAAMC,MAAX,IAAqBL,MAAM,CAACE,cAAP,CAAsBC,OAA3C,EAAoD;IAChD,IAAIE,MAAM,CAACC,cAAP,IAAyBD,MAAM,CAACE,eAApC,EAAqD;MACjD,OAAO,IAAP;IACH;EACJ;;EACD,OAAO,KAAP;AACH;;AACDb,OAAO,CAACG,sBAAR,GAAiCA,sBAAjC;;AACA,eAAeD,kBAAf,CAAkCY,aAAlC,EAAiDC,cAAjD,EAAiEC,cAAjE,EAAiFC,KAAjF,EAAwF;EACpF,IAAIC,QAAJ;;EACA,IAAID,KAAK,YAAYb,OAAO,CAACe,eAAzB,IAA4CF,KAAK,YAAYb,OAAO,CAACgB,uBAAzE,EAAkG;IAC9FF,QAAQ,GAAG,MAAM,KAAKG,iBAAL,CAAuB,gBAAvB,EAAyC;MACtDf,MAAM,EAAE,IAD8C;MAEtDgB,GAAG,EAAE,KAAKC,yBAAL,CAA+BT,aAAa,CAACQ,GAA7C,CAFiD;MAGtDE,MAAM,EAAEV,aAH8C;MAItDC,cAJsD;MAKtDC,cALsD;MAMtDC;IANsD,CAAzC,CAAjB;EAQH,CATD,MAUK,IAAIA,KAAK,YAAYb,OAAO,CAACqB,gBAA7B,EAA+C;IAChDP,QAAQ,GAAG,MAAM,KAAKG,iBAAL,CAAuB,iBAAvB,EAA0C;MACvDf,MAAM,EAAE,IAD+C;MAEvDgB,GAAG,EAAE,KAAKC,yBAAL,CAA+BT,aAAa,CAACQ,GAA7C,CAFkD;MAGvDE,MAAM,EAAEV,aAH+C;MAIvDC,cAJuD;MAKvDC,cALuD;MAMvDC;IANuD,CAA1C,CAAjB;EAQH;;EACD,IAAIC,QAAQ,IAAIA,QAAQ,YAAYd,OAAO,CAACsB,gCAA5C,EAA8E;IAC1E,OAAOR,QAAQ,CAACjB,KAAhB;EACH;;EACD,OAAO0B,OAAO,CAACC,MAAR,CAAeX,KAAf,CAAP;AACH;;AACDjB,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B"},"metadata":{},"sourceType":"script"}