{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OAuth1Helper = void 0;\n\nconst crypto = __importStar(require(\"crypto\"));\n\nclass OAuth1Helper {\n  constructor(options) {\n    this.nonceLength = 32;\n    this.consumerKeys = options.consumerKeys;\n  }\n\n  static percentEncode(str) {\n    return encodeURIComponent(str).replace(/!/g, '%21').replace(/\\*/g, '%2A').replace(/'/g, '%27').replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n  }\n\n  hash(base, key) {\n    return crypto.createHmac('sha1', key).update(base).digest('base64');\n  }\n\n  authorize(request) {\n    let accessTokens = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const oauthInfo = {\n      oauth_consumer_key: this.consumerKeys.key,\n      oauth_nonce: this.getNonce(),\n      oauth_signature_method: 'HMAC-SHA1',\n      oauth_timestamp: this.getTimestamp(),\n      oauth_version: '1.0'\n    };\n\n    if (accessTokens.key !== undefined) {\n      oauthInfo.oauth_token = accessTokens.key;\n    }\n\n    if (!request.data) {\n      request.data = {};\n    }\n\n    oauthInfo.oauth_signature = this.getSignature(request, accessTokens.secret, oauthInfo);\n    return oauthInfo;\n  }\n\n  toHeader(oauthInfo) {\n    const sorted = sortObject(oauthInfo);\n    let header_value = 'OAuth ';\n\n    for (const element of sorted) {\n      if (element.key.indexOf('oauth_') !== 0) {\n        continue;\n      }\n\n      header_value += OAuth1Helper.percentEncode(element.key) + '=\"' + OAuth1Helper.percentEncode(element.value) + '\",';\n    }\n\n    return {\n      // Remove the last ,\n      Authorization: header_value.slice(0, header_value.length - 1)\n    };\n  }\n\n  getNonce() {\n    const wordCharacters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n    let result = '';\n\n    for (let i = 0; i < this.nonceLength; i++) {\n      result += wordCharacters[Math.trunc(Math.random() * wordCharacters.length)];\n    }\n\n    return result;\n  }\n\n  getTimestamp() {\n    return Math.trunc(new Date().getTime() / 1000);\n  }\n\n  getSignature(request, tokenSecret, oauthInfo) {\n    return this.hash(this.getBaseString(request, oauthInfo), this.getSigningKey(tokenSecret));\n  }\n\n  getSigningKey(tokenSecret) {\n    return OAuth1Helper.percentEncode(this.consumerKeys.secret) + '&' + OAuth1Helper.percentEncode(tokenSecret || '');\n  }\n\n  getBaseString(request, oauthInfo) {\n    return request.method.toUpperCase() + '&' + OAuth1Helper.percentEncode(this.getBaseUrl(request.url)) + '&' + OAuth1Helper.percentEncode(this.getParameterString(request, oauthInfo));\n  }\n\n  getParameterString(request, oauthInfo) {\n    const baseStringData = sortObject(percentEncodeData(mergeObject(oauthInfo, mergeObject(request.data, deParamUrl(request.url)))));\n    let dataStr = '';\n\n    for (const {\n      key,\n      value\n    } of baseStringData) {\n      // check if the value is an array\n      // this means that this key has multiple values\n      if (value && Array.isArray(value)) {\n        // sort the array first\n        value.sort();\n        let valString = ''; // serialize all values for this key: e.g. formkey=formvalue1&formkey=formvalue2\n\n        value.forEach((item, i) => {\n          valString += key + '=' + item;\n\n          if (i < value.length) {\n            valString += '&';\n          }\n        });\n        dataStr += valString;\n      } else {\n        dataStr += key + '=' + value + '&';\n      }\n    } // Remove the last character\n\n\n    return dataStr.slice(0, dataStr.length - 1);\n  }\n\n  getBaseUrl(url) {\n    return url.split('?')[0];\n  }\n\n}\n\nexports.OAuth1Helper = OAuth1Helper;\nexports.default = OAuth1Helper; // Helper functions //\n\nfunction mergeObject(obj1, obj2) {\n  return { ...(obj1 || {}),\n    ...(obj2 || {})\n  };\n}\n\nfunction sortObject(data) {\n  return Object.keys(data).sort().map(key => ({\n    key,\n    value: data[key]\n  }));\n}\n\nfunction deParam(string) {\n  const splitted = string.split('&');\n  const data = {};\n\n  for (const coupleKeyValue of splitted) {\n    const [key, value = ''] = coupleKeyValue.split('='); // check if the key already exists\n    // this can occur if the QS part of the url contains duplicate keys like this: ?formkey=formvalue1&formkey=formvalue2\n\n    if (data[key]) {\n      // the key exists already\n      if (!Array.isArray(data[key])) {\n        // replace the value with an array containing the already present value\n        data[key] = [data[key]];\n      } // and add the new found value to it\n\n\n      data[key].push(decodeURIComponent(value));\n    } else {\n      // it doesn't exist, just put the found value in the data object\n      data[key] = decodeURIComponent(value);\n    }\n  }\n\n  return data;\n}\n\nfunction deParamUrl(url) {\n  const tmp = url.split('?');\n  if (tmp.length === 1) return {};\n  return deParam(tmp[1]);\n}\n\nfunction percentEncodeData(data) {\n  const result = {};\n\n  for (const key in data) {\n    let value = data[key]; // check if the value is an array\n\n    if (value && Array.isArray(value)) {\n      value = value.map(v => OAuth1Helper.percentEncode(v));\n    } else {\n      value = OAuth1Helper.percentEncode(value);\n    }\n\n    result[OAuth1Helper.percentEncode(key)] = value;\n  }\n\n  return result;\n}","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","exports","OAuth1Helper","crypto","require","constructor","options","nonceLength","consumerKeys","percentEncode","str","encodeURIComponent","replace","hash","base","key","createHmac","update","digest","authorize","request","accessTokens","oauthInfo","oauth_consumer_key","oauth_nonce","getNonce","oauth_signature_method","oauth_timestamp","getTimestamp","oauth_version","oauth_token","data","oauth_signature","getSignature","secret","toHeader","sorted","sortObject","header_value","element","indexOf","Authorization","slice","length","wordCharacters","i","Math","trunc","random","Date","getTime","tokenSecret","getBaseString","getSigningKey","method","toUpperCase","getBaseUrl","url","getParameterString","baseStringData","percentEncodeData","mergeObject","deParamUrl","dataStr","Array","isArray","sort","valString","forEach","item","split","default","obj1","obj2","keys","map","deParam","string","splitted","coupleKeyValue","push","decodeURIComponent","tmp"],"sources":["/Users/user/Sites/twits_app/twits/node_modules/twitter-api-v2/dist/client-mixins/oauth1.helper.js"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OAuth1Helper = void 0;\nconst crypto = __importStar(require(\"crypto\"));\nclass OAuth1Helper {\n    constructor(options) {\n        this.nonceLength = 32;\n        this.consumerKeys = options.consumerKeys;\n    }\n    static percentEncode(str) {\n        return encodeURIComponent(str)\n            .replace(/!/g, '%21')\n            .replace(/\\*/g, '%2A')\n            .replace(/'/g, '%27')\n            .replace(/\\(/g, '%28')\n            .replace(/\\)/g, '%29');\n    }\n    hash(base, key) {\n        return crypto\n            .createHmac('sha1', key)\n            .update(base)\n            .digest('base64');\n    }\n    authorize(request, accessTokens = {}) {\n        const oauthInfo = {\n            oauth_consumer_key: this.consumerKeys.key,\n            oauth_nonce: this.getNonce(),\n            oauth_signature_method: 'HMAC-SHA1',\n            oauth_timestamp: this.getTimestamp(),\n            oauth_version: '1.0',\n        };\n        if (accessTokens.key !== undefined) {\n            oauthInfo.oauth_token = accessTokens.key;\n        }\n        if (!request.data) {\n            request.data = {};\n        }\n        oauthInfo.oauth_signature = this.getSignature(request, accessTokens.secret, oauthInfo);\n        return oauthInfo;\n    }\n    toHeader(oauthInfo) {\n        const sorted = sortObject(oauthInfo);\n        let header_value = 'OAuth ';\n        for (const element of sorted) {\n            if (element.key.indexOf('oauth_') !== 0) {\n                continue;\n            }\n            header_value += OAuth1Helper.percentEncode(element.key) + '=\"' + OAuth1Helper.percentEncode(element.value) + '\",';\n        }\n        return {\n            // Remove the last ,\n            Authorization: header_value.slice(0, header_value.length - 1),\n        };\n    }\n    getNonce() {\n        const wordCharacters = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n        let result = '';\n        for (let i = 0; i < this.nonceLength; i++) {\n            result += wordCharacters[Math.trunc(Math.random() * wordCharacters.length)];\n        }\n        return result;\n    }\n    getTimestamp() {\n        return Math.trunc(new Date().getTime() / 1000);\n    }\n    getSignature(request, tokenSecret, oauthInfo) {\n        return this.hash(this.getBaseString(request, oauthInfo), this.getSigningKey(tokenSecret));\n    }\n    getSigningKey(tokenSecret) {\n        return OAuth1Helper.percentEncode(this.consumerKeys.secret) + '&' + OAuth1Helper.percentEncode(tokenSecret || '');\n    }\n    getBaseString(request, oauthInfo) {\n        return request.method.toUpperCase() + '&'\n            + OAuth1Helper.percentEncode(this.getBaseUrl(request.url)) + '&'\n            + OAuth1Helper.percentEncode(this.getParameterString(request, oauthInfo));\n    }\n    getParameterString(request, oauthInfo) {\n        const baseStringData = sortObject(percentEncodeData(mergeObject(oauthInfo, mergeObject(request.data, deParamUrl(request.url)))));\n        let dataStr = '';\n        for (const { key, value } of baseStringData) {\n            // check if the value is an array\n            // this means that this key has multiple values\n            if (value && Array.isArray(value)) {\n                // sort the array first\n                value.sort();\n                let valString = '';\n                // serialize all values for this key: e.g. formkey=formvalue1&formkey=formvalue2\n                value.forEach((item, i) => {\n                    valString += key + '=' + item;\n                    if (i < value.length) {\n                        valString += '&';\n                    }\n                });\n                dataStr += valString;\n            }\n            else {\n                dataStr += key + '=' + value + '&';\n            }\n        }\n        // Remove the last character\n        return dataStr.slice(0, dataStr.length - 1);\n    }\n    getBaseUrl(url) {\n        return url.split('?')[0];\n    }\n}\nexports.OAuth1Helper = OAuth1Helper;\nexports.default = OAuth1Helper;\n// Helper functions //\nfunction mergeObject(obj1, obj2) {\n    return {\n        ...obj1 || {},\n        ...obj2 || {},\n    };\n}\nfunction sortObject(data) {\n    return Object.keys(data)\n        .sort()\n        .map(key => ({ key, value: data[key] }));\n}\nfunction deParam(string) {\n    const splitted = string.split('&');\n    const data = {};\n    for (const coupleKeyValue of splitted) {\n        const [key, value = ''] = coupleKeyValue.split('=');\n        // check if the key already exists\n        // this can occur if the QS part of the url contains duplicate keys like this: ?formkey=formvalue1&formkey=formvalue2\n        if (data[key]) {\n            // the key exists already\n            if (!Array.isArray(data[key])) {\n                // replace the value with an array containing the already present value\n                data[key] = [data[key]];\n            }\n            // and add the new found value to it\n            data[key].push(decodeURIComponent(value));\n        }\n        else {\n            // it doesn't exist, just put the found value in the data object\n            data[key] = decodeURIComponent(value);\n        }\n    }\n    return data;\n}\nfunction deParamUrl(url) {\n    const tmp = url.split('?');\n    if (tmp.length === 1)\n        return {};\n    return deParam(tmp[1]);\n}\nfunction percentEncodeData(data) {\n    const result = {};\n    for (const key in data) {\n        let value = data[key];\n        // check if the value is an array\n        if (value && Array.isArray(value)) {\n            value = value.map(v => OAuth1Helper.percentEncode(v));\n        }\n        else {\n            value = OAuth1Helper.percentEncode(value);\n        }\n        result[OAuth1Helper.percentEncode(key)] = value;\n    }\n    return result;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}