{"ast":null,"code":"import _slicedToArray from\"/Users/user/Sites/twits_app/twits/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import io from'socket.io-client';import Tweet from'./components/Tweet';// import './App.css'\nimport{jsx as _jsx}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tweets=_useState2[0],setTweets=_useState2[1];useEffect(function(){var socket=io.connect('http://localhost:3002/');socket.on('connect',function(){console.log('socket connect');socket.on('tweets',function(data){setTweets(function(prev){return[data].concat(prev.slice(0,20));});console.log(data);});});socket.on('disconnect',function(){socket.off('tweets');socket.removeAllListeners('tweets');console.log('socket disconnected');});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"fixedWidth\",children:tweets.map(function(tweet){return/*#__PURE__*/_jsx(Tweet,{public_metrics:tweet.data.public_metrics,referenced_tweets:tweet.data.referenced_tweets,id:tweet.data.id,author:tweet.includes.users[0],media:tweet.includes.media,created_at:tweet.data.created_at,text:tweet.data.text},tweet.data.id);})})});}export default App;","map":{"version":3,"names":["useEffect","useState","io","Tweet","App","tweets","setTweets","socket","connect","on","console","log","data","prev","concat","slice","off","removeAllListeners","map","tweet","public_metrics","referenced_tweets","id","includes","users","media","created_at","text"],"sources":["/Users/user/Sites/twits_app/twits/src/App.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport Tweet from './components/Tweet';\n// import './App.css'\n\nfunction App() {\n  const [tweets, setTweets] = useState([])\n\n  useEffect(() => {\n    const socket = io.connect('http://localhost:3002/')\n    socket.on('connect', () => {\n      console.log('socket connect')\n      socket.on('tweets', data => {\n        setTweets((prev) => [data].concat(prev.slice(0, 20)))\n        console.log(data)\n      })\n    })\n    socket.on('disconnect', () => {\n      socket.off('tweets')\n      socket.removeAllListeners('tweets')\n      console.log('socket disconnected')\n    })\n    \n  }, [])\n\n  return (\n    <div className='flex'>\n      {/* <img style={{position: 'absolute', top:0, left: 0}} width={550} src={Frame} alt=''/> */}\n\n      <div className='fixedWidth'>\n      {tweets.map((tweet) => <Tweet public_metrics={tweet.data.public_metrics} referenced_tweets={tweet.data.referenced_tweets} id={tweet.data.id} author={tweet.includes.users[0]} media={tweet.includes.media} created_at={tweet.data.created_at} text={tweet.data.text} key={tweet.data.id} />)}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"uHAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAOC,GAAP,KAAe,kBAAf,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA;2CAEA,QAASC,IAAT,EAAe,CACb,cAA4BH,QAAQ,CAAC,EAAD,CAApC,wCAAOI,MAAP,eAAeC,SAAf,eAEAN,SAAS,CAAC,UAAM,CACd,GAAMO,OAAM,CAAGL,EAAE,CAACM,OAAH,CAAW,wBAAX,CAAf,CACAD,MAAM,CAACE,EAAP,CAAU,SAAV,CAAqB,UAAM,CACzBC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACAJ,MAAM,CAACE,EAAP,CAAU,QAAV,CAAoB,SAAAG,IAAI,CAAI,CAC1BN,SAAS,CAAC,SAACO,IAAD,QAAU,CAACD,IAAD,EAAOE,MAAP,CAAcD,IAAI,CAACE,KAAL,CAAW,CAAX,CAAc,EAAd,CAAd,CAAV,EAAD,CAAT,CACAL,OAAO,CAACC,GAAR,CAAYC,IAAZ,EACD,CAHD,EAID,CAND,EAOAL,MAAM,CAACE,EAAP,CAAU,YAAV,CAAwB,UAAM,CAC5BF,MAAM,CAACS,GAAP,CAAW,QAAX,EACAT,MAAM,CAACU,kBAAP,CAA0B,QAA1B,EACAP,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACD,CAJD,EAMD,CAfQ,CAeN,EAfM,CAAT,CAiBA,mBACE,YAAK,SAAS,CAAC,MAAf,uBAGE,YAAK,SAAS,CAAC,YAAf,UACCN,MAAM,CAACa,GAAP,CAAW,SAACC,KAAD,qBAAW,KAAC,KAAD,EAAO,cAAc,CAAEA,KAAK,CAACP,IAAN,CAAWQ,cAAlC,CAAkD,iBAAiB,CAAED,KAAK,CAACP,IAAN,CAAWS,iBAAhF,CAAmG,EAAE,CAAEF,KAAK,CAACP,IAAN,CAAWU,EAAlH,CAAsH,MAAM,CAAEH,KAAK,CAACI,QAAN,CAAeC,KAAf,CAAqB,CAArB,CAA9H,CAAuJ,KAAK,CAAEL,KAAK,CAACI,QAAN,CAAeE,KAA7K,CAAoL,UAAU,CAAEN,KAAK,CAACP,IAAN,CAAWc,UAA3M,CAAuN,IAAI,CAAEP,KAAK,CAACP,IAAN,CAAWe,IAAxO,EAAmPR,KAAK,CAACP,IAAN,CAAWU,EAA9P,CAAX,EAAX,CADD,EAHF,EADF,CASD,CAED,cAAelB,IAAf"},"metadata":{},"sourceType":"module"}